{% extends 'base.html.twig' %}

{% block title %}Hello AssociationController!
{% endblock %}

{% block body %}
	<div class="container text-center mt-5 bg-dark">
		<h1 class="p-5 text-white">Liste des Salles</h1>
		<div class="d-flex start-flex p-4 ">
			<label class="text-white " for="search">Recherche</label>
			<input name="search" type="text">
			<input type="submit">
			{% if app.user %}
				{% if (app.user.roles[0] is same as ("ROLE_ADMIN")) %}
					<a class="btn btn-light ml-3" href="{{ path('room_add') }}">Ajouter</a>
				{% endif %}
			{% endif %}
		</div>
		<table class="table table-striped table-success table-hover">
			<thead>
				<tr class="table-success">
					<th scope="col">Id</th>
					<th scope="col">Nom de la salle</th>
					<th scope="col">Nombre de places</th>
					<th scope="col">Description</th>
					<th scope="col">Détail</th>
				</tr>
			</thead>
			<tbody>
				{% for room in rooms %}
					<tr class="table-active ts">
						<td scope="row">{{ room.id }}</td>
						<td>{{ room.name }}</td>
						<td>{{ room.getNbPlace }}</td>
						<td>{{ room.description }}</td>
						<td>{{ room.getLocation().getName() }}</td>
						{% if app.user %}
							{% if (app.user.roles[0] is same as ("ROLE_ADMIN")) %}
								<td>
									<a href="{{ path("room_show", {'id': room.id}) }}" type="button" class="btn btn-outline-success">Détail</a>
								</td>
							{% endif %}
						{% endif %}
					</tr>
				{% endfor %}
			</tbody>
		</tbody>
	</table>
</div>{% endblock %}
