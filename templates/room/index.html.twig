{% extends 'base.html.twig' %}

{% block title %}Hello AssociationController!
{% endblock %}

{% block body %}
	<div class="container text-center mt-5 bg-dark">
		<h1 class="p-5 text-white">Liste des Salles</h1>
		<div class="d-flex start-flex p-4 ">
			<label class="text-white " for="search">Recherche</label>
			<input name="search" type="text">
			<input type="submit">
			{% if app.user %}
				{% if (app.user.roles[0] is same as ("ROLE_ADMIN")) %}
					<a class="btn btn-light ml-3" href="{{ path('room_add') }}">Ajouter</a>
				{% endif %}
			{% endif %}
		</div>
		{% for loc in location %}
			<table class="table table-striped table-success table-hover">
				<thead>
					<tr class="table-success">
						<th scope="col">Id</th>
						<th scope="col">Nom de la salle</th>
						<th scope="col">Nombre de places</th>
						<th scope="col">Description</th>
						<th scope="col">DÃ©tail</th>
					</tr>
				</thead>
				<tbody>
					<h2 class="text-white">{{loc.name}}</h2>
					{% for room in rooms %}
						{% if room.location.id == loc.id %}
							<tr class="table-active ts">
								<td scope="row">{{ room.id }}</td>
								<td>{{ room.name }}</td>
								<td>{{ room.getNbPlace }}</td>
								<td>{{ room.description }}</td>
								{% if app.user %}
									{% if (app.user.roles[0] is same as ("ROLE_ADMIN")) %}
										<td>
											<a href="{{ path("room_delete", {'room': room.id}) }}" type="button" class="btn btn-outline-success">Supprimez</a>
											<a href="{{ path("room_update", {'room': room.id}) }}" type="button" class="btn btn-outline-success">Editer</a>
										</td>
									{% endif %}
								{% endif %}
							</tr>
						{% endif %}
					{% endfor %}
				</tbody>
			</table>
		{% endfor %}
	</div>
{% endblock %}
